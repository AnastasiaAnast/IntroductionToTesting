# Создание тест-кейсов

1. Что такое тест-кейс
1. Атрибуты тест-кейса
1. Составление тест-кейсов
1. TMS
1. Test Plan, Test Run

Чек-лист не всегда позволяет проверить тестируемое ПО (чек-листов не всегда достаточно), если ПО сложное/тестировщик не хорошо знаком с функциональностью/требуется доп подготовка тестовой среды перед проведением проверки. В чек-лист не получится уместить много инф без потери читаемости. Нужен сценарий/инструкция, где будет пошагово описываться алгоритм проверки - **тестовый случай/тест-кейс**.
Визуальная разница ЧЛ и ТК - в ТК более подробная детализация каждого действия и результата.

**Тест-кейс** — совокупность шагов, условий, параметров, требуемых для проверки реализации тестируемой ф-ии/ее части. Небольшая инструкция по проверке работы ф-ии. Описывает:

1. какие шаги нужно выполнить;
2. какой результат должен быть у каждого шага.

**Набор тест-кейсов** называется **тестовым набором (test suite)**.

## Атрибуты (обязательные, необязательные) тест-кейса - поля ТК

Атрибуты, заполняющиеся на этапе _проектирования_ ТК:

- ID тест-кейса - порядковый номер ТК
- Название - заголовок, суть ТК
- Шаги - действия, необходимые для проверки функционала
- Ожидаемый результат - как должна выглядеть/работать система исходя из ТЗ
- Приоритет тест-кейса - зависит от приоритета ф-й и сценариев ТК, определяет очередность выполнения данного теста
- Тестовые данные - данные для проведения тестирования, составляются исходя из ТЗ
- Предусловия (необязательный атрибут) - действия, необходимые к выполнению до выполнения ТК
- Постусловия (необязательный атрибут) - действия, необходимые к выполнению чтобы вернуть систему в исходное состояние

Атрибуты, заполняющиеся на этапе _исполнения_ ТК:

- Фактический результат (необязательный атрибут) - то, что получаем в результате выполнения шага/всего ТК, краткое описание/резолюция
- Статус/резолюция тест-кейса - обозначает результат исполнения ТК/причину, по которой выполнить ТК не получается

## Резолюция

1. passed – кейс прошел проверку
2. failed – кейс не прошел проверку
3. skipped – пропуск проверки
4. blocked – нет возможности проверить, проверка заблокирована каким-л дефектом
5. untested – _еще_ не брали в работу

## Priority в тест-кейсе

Основывается на важности требований, потенциально важного функционала для пользователей

- крайне высокий (A)
- высокий (B)
- средний (C)
- низкий (D)
- крайне низкий (E)

## Алгоритм составления тест-кейсов

1. Продумать сценарии
2. Сформировать названия тест-кейсов
3. Определить для каждого сценария необходимые предусловия
4. В соответствии с требованиями описываем шаги
5. В соответствии с требованиями описываем ожидаемый результат (в соответствии с требованиями, макетами)
6. При необходимости заполняем остальные атрибуты этого этапа

## Правила работы с тест-кейсами

1. Один тест-кейс — одна проверка/сценарий
2. Заголовок точно описывает суть тест-кейса
3. Точные названия элементов приложения: кнопок, чекбоксов, элементов меню
4. Простой технический стиль без объяснений базовых понятий работы ПО
5. Нет пропущенных шагов: каждое действие вытекает из предыдущего
6. Нет описания очевидных действий
7. Нет зависимостей от других тест-кейсов
8. Нет дублей с другими тест-кейсами
9. Обнаруженная ошибка становится очевидной
10. Гибкость для модификации

## Ошибки в тест-кейсах

1. Заголовок тест-кейса отсутствует/сформулирован некорректно
2. Ссылки ведут на разные/недействительные требования
3. Используются личные формы глаголов: «нажми», «перейдите», «укажи»
4. Пунктуационные, орфографические, синтаксические ошибки
5. «Выдумывание» особенностей поведения приложения без отсылки к требованиям
6. Не описывается приготовление к выполнению тест-кейса

## Составление тест-кейсов

ТЗ:
Заголовок формы “Начни бесплатно”. Шрифт Sans Serif, размер текста 40px.
3 поля: “Имя и фамилия”, “Email”, “Номер телефона”.

1. Поле “Имя и фамилия” принимает на вход текст русский и английский. Когда пользователь начинает заполнять поле, то плейсхолдер “Имя и фамилия” скрывается.
2. Поле “Email” принимает на вход email в формате email@mail.ru. Когда пользователь начинает заполнять поле, то плейсхолдер “Email” скрывается.
3. Также имеется поле ввода номера телефона, где пользователь может выбрать страну и ввести в поле “Номер телефона” свой номер телефона.
4. При вводе номера будет автоматически добавлен код страны в соответствии с выбранной. Вводимый номер будет разделяться пробелами.
5. Для отправки формы имеется кнопка “Начать”, которая становится активной (на нее можно нажать) в том случае, если заполнены все поля. Техническое задание На форме имеются два чекбокса: “Я подтверждаю согласие на обработку персональных данных в соответствии с условиями Политики конфиденциальности, ознакомился и согласен с условиями Пользовательского соглашения” и “Я согласен получать уведомления о новых продуктах и предложениях GeekBrains и его партнеров”.

Если поле “Имя и фамилия” не заполнено, то отображается ошибка “Заполните поле Имя и фамилия”.
Если поле “Email” не заполнено, то отображается ошибка “Заполните поле Email”.
Если поле “Номер телефона” не заполнено, то отображается ошибка “Заполните поле Номер телефона”. Размер текста ошибки 12px, Sans Serif, цвет: #f2363b

ТК #1:
ID: 1
Название: Отображение заголовка формы регистрации
Предусловие: Открыта форма регистрации
Шаг 1: Проверить отображение и наличие заголовка формы
Ожидаемый результат 1: Заголовок формы “Начни бесплатно” отображается. Шрифт Sans Serif, размер текста 40px.

ТК #2:
ID: 2
Название: Отображение поля “Имя и фамилия”
Предусловие: Открыта форма регистрации
Шаг 1: Проверить наличие поля “Имя и фамилия”
Ожидаемый результат 1: Поле “Имя и фамилия” отображается в соответствии с макетом
Шаг 2: Проверить наличие плейсхолдера в поле “Имя и фамилия”
Ожидаемый результат 2: Плейсхолдер (подсказка) “Имя и фамилия” отображается в поле, размер шрифта 14px

ТК #3:
ID: 3
Название: Заполнение поля “Имя и фамилия”
Предусловие: Открыта форма регистрации
Шаг 1: Клик в поле “Имя и фамилия”
Ожидаемый результат 1: В поле отображается курсор
Шаг 2: Ввести в поле Иван Иванов
Ожидаемый результат 2: Плейсхолдер (подсказка) скрывается, введенный текст отображается

ТК #4:
ID: 4
Название: Отображение ошибки “Заполните поле Имя и фамилия”
Предусловие: Открыта форма регистрации
Шаг 1: Клик на кнопку “Начать”
Ожидаемый результат 1: Отображение ошибки “Заполните это поле Имя и фамилия”. Размер текста 12px, Sans Serif, цвет: #f2363b

## Преимущества и недостатки тест-кейсов

Преимущества:
✅ За счет полной детализации шагов тест-кейсы может проходить новичок, а также по тест-кейсам довольно удобно знакомиться с продуктом.
✅ Достаточно подробное описание бизнес-логики. При неидеальной организации хранения требований, уточнение некоторых моментов проще будет найти в тест-кейсах.

Недостатки:
❌ В сравнении с чек-листами требуют много времени на написание.
❌ Сложно поддерживать. При изменении бизнес-логики, переименовании разделов и прочих изменениях, затрагивающих пользовательский интерфейс и сценарии использования системы, нужно актуализировать все тест-кейсы, затрагивающие измененную часть.

## Инструменты для работы с тест-кейсами

## TMS (test-case management system)

Системы для работы с тест-кейсами — автоматизированные приложения, которые позволяют управлять тест-кейсами.

- Jira + Zephyr
- TestRail
- Allure
- Test IT
- TestLink
- и др

## Основные ф-ии TMS

- Создание тест-кейсов.
- Выполнение тест-кейсов и запись результатов.
- Отслеживание дефектов.
- Отслеживание требований и других проектных документов.
- Защита тест-кейсов. История изменений.

## Тест-кейс и чек-лист

|                  | Тест-кейс                                                                | Чек-лист                                                                                 |
| ---------------- | ------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------- |
| Детализация      | Проверки детализированы, расписаны по шагам                              | Проверки формулируются в общем виде. Пункт чек-листа = заголовок тест-кейса              |
| Связность        | Тест-кейсы не зависят друг от друга и выполняются в произвольном порядке | Проверки могут быть связаны друг с другом, предполагается их последовательное выполнение |
| Понятность       | Понятен любому человеку                                                  | Понятен человеку, который знаком с продуктом                                             |
| Эффект пестицида | Риск возникновения - каждый раз воспроизводятся те же шаги               | Риск снижается - каждый выполняет проверку по-своему                                     |

## Ценность тест-кейсов и чек-листов

- Структурируют, систематизирую подход к тестированию.
- Основа для метрик тестового покрытия.
- Основа для увеличения тестового покрытия.
- Показатель соответствия ситуации плану.
- Поддерживают взаимопонимание между заказчиком, разработчиками,тестировщиком.
- Хранят информацию для длительного использования и обмена опытом между сотрудниками и командами.
- Основа регрессионного тестирования.

## Наборы тест-кейсов

**Test case** — атомарный элемент тест-плана.
**Test suite** — список кейсов, объединенных общим фактором
**Test plan** — список test suite-ов, выбранных для теста
**Test run** — выполнение test plan-а

## Регрессионное тестирование (regression testing) —

тестирование уже проверенной функциональности после внесения изменений в код приложения для уверенности, что эти изменения не внесли/не активизировали ошибки в областях, которые не подвергались изменениям. Для регрессионного тестирования исп ТК, кот покрывают функционал со средним и важным приоритетами.

регрессионный набор - проверяет ту функциональность, кот была с целью определить не возникло ли проблем с кач-вом после внесения изменений в ПО.

Дополнительные материалы

1. Пишем максимально эффективный тест-кейс [https://habr.com/ru/articles/246463/]
2. Что такое тест-кейс и как его писать [https://www.software-testing.ru/library/testing/general-testing/1991-2014-08-25-11-55-39]
3. Что такое регрессионное тестирование? [https://crashtest.by/regression-testing/]
4. Антирегрессионное тестирование – минимизируйте затраты [https://habr.com/ru/companies/typeable/articles/583062/]
